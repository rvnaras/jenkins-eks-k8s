cdREF!
- https://www.jenkins.io/doc/book/installing/kubernetes/
- https://docs.aws.amazon.com/eks/latest/userguide/ebs-csi.html
- https://docs.aws.amazon.com/eks/latest/userguide/managing-ebs-csi.html
- https://docs.aws.amazon.com/eks/latest/userguide/enable-iam-roles-for-service-accounts.html
- https://plugins.jenkins.io/configuration-as-code/

tested work by musyaffadli, different environment may vary
eks version 1.22
cni, coredns, kube-proxy, ebs-csi version default

1. provision eks cluster
2. enable ebs csi driver, create iam oidc too
3. get kubeconfig 
4. k create ns jenkins
5. create jenkins persistentvolume
6. create jenkins service account
7. chart=jenkinsci/jenkins, then helm install jenkins -n jenkins -f jenkins-values.yaml $chart
8. make sure its running
9. get admin password, jsonpath="{.data.jenkins-admin-password}", kubectl get secret -n jenkins jenkins -o jsonpath=$jsonpath
10. get url jenkins
11. decode base64 with echo -n 'XXX' | base64 --decode, be careful to not copy base64 text, usually admin default password is aXoHBSrw1zkQWz6laylzWc
12. kubectl -n jenkins port-forward <pod_name> 8080:8080 if service is set to ClusterIP
13. get load balancer dns if set service to LoadBalancer
14. install plugin github, docker, docker pipeline
15. add webhook to load balancer dns add with /github-webhook/ in url 
16. verify webhook connection
17. install ingress controller first
18. check all requisite files, source code, yaml file, jenkinsfile
19. create jenkins pipeline, create dockerhub and github credentials
20. deploy
